function pageJumpTo(e,t){$(e).length&&("center"==t&&(t=$(window).height()/2),scrollVal=$(e).offset().top-t,$("html,body").scrollTop(scrollVal))}function pageScrollTo(e,t){$(e).length&&(scrollVal=$(e).offset().top-t,$("html,body").animate({scrollTop:scrollVal},{duration:1e3}))}function navMb(){$("nav").is(":visible")&&$("header .menu .cols li:not(.ttl,.mb-show)").hide(),$("nav").slideToggle(300)}function navMenu(e,t){1==t?($("header .menu:not(#menu"+e+")").hide(),$("#menu"+e).show(),$("#menu"+e).prev().addClass("sel")):($("#menu"+e).hide(),$("#menu"+e).prev().removeClass("sel"))}function navMenuSub(e,t){var a=$(e).parent();"none"==a.css("float")&&(a.find("li:not(.ttl)").is(":visible")?a.find("li:not(.ttl)").hide():($("header .menu .cols li:not(.ttl,.mb-show)").hide(),a.find("li:not(.ttl)").show()))}function cookieConfirm(){$("#cookie-note").slideUp(500),jQuery.ajax({type:"GET",url:"/cookie-confirm.php",data:"confirm=1"})}function shopNow(e){jQuery.ajax({type:"GET",url:"/shop-count.php",data:"id="+e})}function shopRetailer(e){jQuery.ajax({type:"GET",url:"/shop-count.php",data:"type=retailer&id="+e})}function addList(e,t){jQuery.ajax({type:"GET",url:"/wish-list.php",data:"add="+e,success:function(e){$("header .list span").html(e)}})}function itsChristmas(){$("#countdown").removeClass().addClass("xmas"),$("#counter").html("Merry Christmas!"),"Days Until Christmas"==$("#countdown .until").html()?$("#countdown .more").hide():$("#countdown .until").html($("#countdown .until").html().substring(6))}function monthsXmas(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=Math.round(1/31*(25-t)*100);if(11==a&&t>25)var r=12+n/100;else var r=11-a+n/100;monthS="s",1==r&&(monthS="",$("#countdown .intro").html($("#countdown .intro").html().replace("are","is"))),r=Math.round(100*r)/100,0==r?itsChristmas():$("#counter").html(r+" month"+monthS)}function weeksXmas(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();11==a&&t>25&&n++;var r=new Date(n,11,25),o=864e5,s=r.getTime()-e.getTime(),i=s/o,l=Math.ceil(i),c=Math.floor(l/7),u=l%7;weekS="s",1==c&&(weekS="",$("#countdown .intro").html($("#countdown .intro").html().replace("are","is"))),dayS="s",1==u&&(dayS="");var h="";u>0&&(h=", "+u+" day"+dayS),0==c&&0==u?itsChristmas():$("#counter").html(c+" week"+weekS+h)}function hoursXmas(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();11==a&&t>25&&n++;var r=new Date(n,11,25),o=new Date(e.getFullYear(),a,t,e.getHours(),e.getMinutes(),e.getSeconds()).getTime(),s=new Date(n,11,25,0,0,0).getTime(),i=Math.round((s-o)/1e3);0>i&&(i=0);var l=i/3600,c=Math.round(l);hourS="s",(1==c||1>l)&&(hourS="",$("#countdown .intro").html($("#countdown .intro").html().replace("are","is"))),0==l?itsChristmas():(1>l&&($("#countdown .intro").html($("#countdown .intro").html().replace("about","less than")),c=1),$("#counter").html(c+" hour"+hourS))}function minutesXmas(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();11==a&&t>25&&n++;var r=new Date(n,11,25),o=new Date(e.getFullYear(),a,t,e.getHours(),e.getMinutes(),e.getSeconds()).getTime(),s=new Date(n,11,25,0,0,0).getTime(),i=Math.round((s-o)/1e3);0>i&&(i=0);var l=Math.round(i/60);minuteS="s",1==l&&(minuteS="",$("#countdown .intro").html($("#countdown .intro").html().replace("are","is"))),0==l?itsChristmas():($("#counter").html(l+" minute"+minuteS),setTimeout("minutesXmas();",6e4))}function secondsXmas(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();11==a&&t>25&&n++;var r=new Date(n,11,25),o=new Date(e.getFullYear(),a,t,e.getHours(),e.getMinutes(),e.getSeconds()).getTime(),s=new Date(n,11,25,0,0,0).getTime(),i=Math.round((s-o)/1e3);0>i&&(i=0);var l=i;secondS="s",1==l&&(secondS="",$("#countdown .intro").html($("#countdown .intro").html().replace("are","is"))),0==l?itsChristmas():($("#counter").html(l+" second"+secondS),setTimeout("secondsXmas();",1e3))}function fullXmasTime(){var e=new Date,t=e.getDate(),a=e.getMonth(),n=e.getFullYear();11==a&&t>25&&n++;var r=new Date(e.getFullYear(),a,t,e.getHours(),e.getMinutes(),e.getSeconds()).getTime(),o=new Date(n,11,25,0,0,0).getTime(),s=Math.round((o-r)/1e3);0>s&&(s=0);var i=Math.floor(s/86400);s%=86400;var l=Math.floor(s/3600);s%=3600;var c=Math.floor(s/60);s%=60;var u=s;if(dayS="s",hourS="s",minS="s",secS="s",1==i&&(dayS=""),1==l&&(hourS=""),1==c&&(minS=""),1==u&&(secS=""),0==i&&0==l&&0==c&&0==u)itsChristmas();else{var h=i+" day"+dayS+", ";h+=l+" hour"+hourS+", <br>",h+=c+" minute"+minS+" &amp; ",h+=u+" second"+secS,$("#counter").html(h),setTimeout("fullXmasTime();",1e3)}}function moreResults(e,t,a,n,r){$("#rs-more").hide(),$("#rs-load").show();var o="";$('input[name="data"]').length&&(o=$('input[name="data"]').val()),$.ajax({type:"POST",url:"/results-ajax.php",data:"type="+e+"&start="+$(t+" "+a).length+"&limit="+n+o,success:function(e){if(e.indexOf("<span class='total'>")>-1){var n=e.split("<span class='total'>");e=n[0],r=n[1].replace("</span>","")}$(t).append(e);var o=$(t+" "+a).length;$("#rs-load").hide(),r>o&&$("#rs-more").show()}})}function searchGifts(){$("#rs-show div").hide(),$("#rs-show img").show(),$("#rs-more").hide();var e=$('#gift-search input[name="data_start"]').val();e+="&keywords="+encodeURIComponent($('#gift-search input[name="keywords"]').val().replace("&","")),e+="&pricefrom="+$('#gift-search select[name="pricefrom"]').val(),e+="&priceto="+$('#gift-search select[name="priceto"]').val(),e+="&order="+$('#gift-search input[name="order"]').val(),$('#gift-search input[name="data"]').val(e),$.ajax({type:"POST",url:"/results-ajax.php",data:"type=gift&start=0&limit="+$('#gift-search input[name="limit"]').val()+$('#gift-search input[name="data"]').val(),success:function(e){var t=e.split("<span class='total'>");e=t[0],total=t[1].replace("</span>",""),$("#gift-rs").html(e),pageScrollTo("#gift-search",$("header").outerHeight());var a=$("#gift-rs article").length;if(0==total){$("#gift-rs-wrap").hide();var n="We've hunted high and low..."}else{$("#gift-rs-wrap").show();var n=total+" ";n+=1==total?"Gift":"Gifts",n+=" Found"}$("#rs-show div").html(n).show(),$("#rs-show img").hide(),a<total&&$("#rs-more").show()}})}function orderBy(e,t){$('#gift-search input[name="order"]').val(e),$("#gift-order li").removeClass("sel"),$(t).addClass("sel"),searchGifts()}function priceFrom(e){void 0==e&&(e=$('#gift-search select[name="pricefrom"]').val());var t=$('#gift-search select[name="pricefrom"]');t.empty(),t.append(new Option("Price From","",!1,!1)),$.each(prices,function(a,n){if(n<$('#gift-search select[name="priceto"]').val()||""==$('#gift-search select[name="priceto"]').val()){n==e?selected=!0:selected=!1;var r="From Â£"+n;t.append(new Option(r,n,!1,selected))}})}function priceTo(e){void 0==e&&(e=$('#gift-search select[name="priceto"]').val());var t=$('#gift-search select[name="priceto"]');t.empty(),t.append(new Option("Price To","",!1,!1)),$.each(prices,function(a,n){if(n>$('#gift-search select[name="pricefrom"]').val()||""==$('#gift-search select[name="pricefrom"]').val()){n==e?selected=!0:selected=!1;var r="Up to Â£"+n;t.append(new Option(r,n,!1,selected))}})}function validateEmail(e){if(e.length<=0)return!0;var t=e.match("^(.+)@(.+)$");if(null==t)return!1;if(null!=t[1]){var a=/^\"?[\w-_\.]*\"?$/;if(null==t[1].match(a))return!1}if(null!=t[2]){var n=/^[\w-\.]*\.[A-Za-z]{2,4}$/;if(null==t[2].match(n)){var r=/^\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]$/;if(null==t[2].match(r))return!1}return!0}return!1}function sendForm(e,t){var a=$(e).closest(".form");a.find(".error-bg").removeClass("error-bg");var n="";if(a.find(".field").each(function(){var e=$(this).val();$(this).hasClass("val-blank")&&""==e?$(this).addClass("error-bg"):$(this).hasClass("val-email")&&!validateEmail(e)?$(this).addClass("error-bg"):n+="&v_"+$(this).attr("name")+"="+e}),$(".error-bg").length)$(".error-bg:first").focus(),pageJumpTo(".error-bg:first",60);else{var r=a.width(),o=a.outerHeight();a.find(".load").css({width:r+"px",height:o+"px"}).fadeIn(1e3,function(){pageScrollTo(".form",60),a.find("label, input, textarea, button").css("visibility","hidden"),$.ajax({type:"POST",url:"/"+t,data:n.substr(1),success:function(e){a.find(".sent").html(e).show(),a.find(".load").fadeOut(1e3)}})})}}var prices=new Array(5,10,15,20,30,40,50,60,70,80,90,100,125,150,175,200,300,400,500,600,700,800,900,1e3);